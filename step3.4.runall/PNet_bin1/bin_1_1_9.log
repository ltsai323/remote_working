[step31] start
i@ [GotExternalFile] data era = "2022EE, xPhotonFiles <ExternalFileMgr.EstimateSRFiles object at 0x7fca406bc880>
i@ [LoadRDataframe] Loading dataframe from input files...
i@ [LoadRDataframe] Loading dataframe from input files... Finished
[step31] finished
[step32] start
[LinkFile] Linked /home/ltsai/Work/2022EE/step3.4.runall//../step3.2.fit/data to data in the current directory.
{'channel': 'gjet_inclusive',
 'datacardTEMPLATE': 'data/datacard_gjet_inclusive_template.txt',
 'inputFILE': 'out_makehisto.root',
 'load_data': [{'histSOURCE': 'BDT_data_signalRegion',
                'name': 'data_obs',
                'normalize': -1},
               {'histSOURCE': 'BDT_gjetL_signalRegion',
                'name': 'gjet',
                'normalize': 1},
               {'histSOURCE': 'BDT_data_dataSideband',
                'name': 'SB',
                'normalize': 1}],
 'outputDATACARD': 'datacard_gjet_inclusive.txt',
 'outputROOT': 'datacard_gjet_inclusive.root',
 'outputYAML': 'datacard_gjet_inclusive.defaultValue.yaml'}
i@ [ReadTemplate] tempelate "data/datacard_gjet_inclusive_template.txt" is required for create output datacard
i@ [Output Files] datacard "datacard_gjet_inclusive.txt"
i@ [Output Files] datacard "datacard_gjet_inclusive.txt" exported.
i@ [Output Files] Root file "datacard_gjet_inclusive.root"
Traceback (most recent call last):
  File "/home/ltsai/Work/2022EE/step3.4.runall//../step3.2.fit/make_hist_source_and_datacard.py", line 230, in <module>
    maked_datacard_and_hists(inputFILE,
  File "/home/ltsai/Work/2022EE/step3.4.runall//../step3.2.fit/make_hist_source_and_datacard.py", line 88, in maked_datacard_and_hists
    output_hist_definition.get_output_hist(iFile)
  File "/home/ltsai/Work/2022EE/step3.4.runall//../step3.2.fit/make_hist_source_and_datacard.py", line 36, in get_output_hist
    self.normalize_hist(iFILE)
  File "/home/ltsai/Work/2022EE/step3.4.runall//../step3.2.fit/make_hist_source_and_datacard.py", line 29, in normalize_hist
    self.h.Scale(1./self.h.Integral())
ZeroDivisionError: float division by zero
i@ [get_yaml_configurables] Got yaml file "/data4/ltsai/Work/2022EE/step3.2.fit/data/initcomposition_gjet_inclusive.yaml"
i@ [UsedValue]
i@     nDATA   = 0.0
i@     initSIGN= 0.0 with 80.0% composition
i@     initFAKE= 0.0 with 20.0% composition
i@     initL   = 0.0 with frac = 1.0
i@     initC   = 0.0 with frac = 0.0
i@     initB   = 0.0 with frac = 0.0
Will create a POI  nSIGN  with factory  nSIGN[0.0,0.,0.0]
Mapping  nSIGN  to  ['.*/gjet']  patterns
Will create a POI  nFAKE  with factory  nFAKE[0.0,0.,0.0]
Mapping  nFAKE  to  ['.*/SB']  patterns
Traceback (most recent call last):
  File "/data4/ltsai/Work/CMSSW/CMSSW_14_1_0_pre4/bin/el9_amd64_gcc12/text2workspace.py", line 104, in <module>
    MB.doModel(justCheckPhysicsModel=options.justCheckPhysicsModel)
  File "/data4/ltsai/Work/CMSSW/CMSSW_14_1_0_pre4/src/HiggsAnalysis/CombinedLimit/python/ModelTools.py", line 172, in doModel
    self.doObservables()
  File "/data4/ltsai/Work/CMSSW/CMSSW_14_1_0_pre4/src/HiggsAnalysis/CombinedLimit/python/ShapeTools.py", line 86, in doObservables
    self.prepareAllShapes()
  File "/data4/ltsai/Work/CMSSW/CMSSW_14_1_0_pre4/src/HiggsAnalysis/CombinedLimit/python/ShapeTools.py", line 481, in prepareAllShapes
    shape = self.getShape(b, p)
  File "/data4/ltsai/Work/CMSSW/CMSSW_14_1_0_pre4/src/HiggsAnalysis/CombinedLimit/python/ShapeTools.py", line 845, in getShape
    raise RuntimeError("Failed to find %s in file %s (from pattern %s, %s)" % (objname, finalNames[0], names[1], names[0]))
RuntimeError: Failed to find gjet_inclusive/SB in file datacard_gjet_inclusive.root (from pattern $CHANNEL/$PROCESS, datacard_gjet_inclusive.root)
/home/ltsai/Work/2022EE/step3.4.runall//../step3.2.fit/run.step1.fitGJet_inclusive.sh: line 37: exit: failed to create workspace from datacard: numeric argument required
---- run step1 failed ----
